# çœŸæ­£çš„æ ¹æœ¬åŸå› åˆ†æ

## ğŸ¯ ç”¨æˆ·çš„å®é™…ç»å†

ç”¨æˆ·è¯´ï¼š
1. **å®ç°äº† `do_getattr_helper` åï¼Œä»ç„¶æŠ¥ Buck2 SQLite xShmMap é”™è¯¯**
2. **å‡çº§åˆ° 0.1.9ï¼Œæ”¹ä¸º `getattr_with_mapping`ï¼Œé”™è¯¯å°±æ²¡äº†**
3. **ä¸çŸ¥é“åŸå› åœ¨å“ª**

## ğŸ” æ·±å…¥åˆ†æ

### å…³é”®å‘ç°

é€šè¿‡å¯¹æ¯” 0.1.8 å’Œ 0.1.9 çš„æºç ï¼Œå‘ç°ï¼š

1. **æ–‡ä»¶å¤åˆ¶é€»è¾‘ç›¸åŒ**: ä¸¤ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶å¤åˆ¶é€»è¾‘åŸºæœ¬ç›¸åŒ
2. **ä¸»è¦å·®å¼‚æ˜¯ API è°ƒç”¨**: `do_getattr_helper` â†’ `getattr_with_mapping`
3. **CHANGELOG æåˆ°**: "synchronize the functionality of `unionfs` and `overlayfs`"

### å¯èƒ½çš„åŸå› 

#### åŸå›  1: 0.1.8 ç‰ˆæœ¬åœ¨æŸäº›æƒ…å†µä¸‹ä¸è°ƒç”¨ do_getattr_helper

**å¯èƒ½æ€§**: 0.1.8 ç‰ˆæœ¬çš„ OverlayFS åœ¨æŸäº›ä»£ç è·¯å¾„ä¸‹å¯èƒ½ä¸è°ƒç”¨ `do_getattr_helper`ï¼Œè€Œæ˜¯ä½¿ç”¨å…¶ä»–æ–¹æ³•ã€‚

**éªŒè¯**: éœ€è¦æ£€æŸ¥æ‰€æœ‰å¯èƒ½çš„è°ƒç”¨è·¯å¾„ã€‚

#### åŸå›  2: 0.1.8 ç‰ˆæœ¬çš„é”™è¯¯å¤„ç†æœ‰é—®é¢˜

**å¯èƒ½æ€§**: 0.1.8 ç‰ˆæœ¬å¯èƒ½åœ¨é”™è¯¯å¤„ç†ä¸Šæœ‰é—®é¢˜ï¼Œå¯¼è‡´å³ä½¿ `do_getattr_helper` æˆåŠŸï¼Œcopy-up ä»ç„¶å¤±è´¥ã€‚

#### åŸå›  3: 0.1.8 ç‰ˆæœ¬æœ‰ race condition

**å¯èƒ½æ€§**: 0.1.8 ç‰ˆæœ¬å¯èƒ½åœ¨å¼‚æ­¥æ“ä½œæˆ–å¹¶å‘å¤„ç†ä¸Šæœ‰é—®é¢˜ã€‚

#### åŸå›  4: 0.1.8 ç‰ˆæœ¬çš„ unionfs å’Œ overlayfs ä¸ä¸€è‡´

**å¯èƒ½æ€§**: CHANGELOG æåˆ° 0.1.9 "åŒæ­¥äº† unionfs å’Œ overlayfs çš„åŠŸèƒ½"ï¼Œè¯´æ˜ 0.1.8 ç‰ˆæœ¬å¯èƒ½å­˜åœ¨ä¸ä¸€è‡´çš„é—®é¢˜ã€‚

## ğŸ’¡ æœ€å¯èƒ½çš„è§£é‡Š

### å‡è®¾ï¼š0.1.8 ç‰ˆæœ¬çš„ unionfs å’Œ overlayfs ä¸ä¸€è‡´

**CHANGELOG ä¿¡æ¯**:
```
0.1.9: synchronize the functionality of `unionfs` and `overlayfs` (#335)
```

**å¯èƒ½çš„é—®é¢˜**:
- 0.1.8 ç‰ˆæœ¬çš„ unionfs å’Œ overlayfs å®ç°ä¸ä¸€è‡´
- åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œoverlayfs å¯èƒ½ä½¿ç”¨äº† unionfs çš„ä»£ç è·¯å¾„
- unionfs å¯èƒ½ä¸è°ƒç”¨ `do_getattr_helper`ï¼Œè€Œæ˜¯ä½¿ç”¨å…¶ä»–æ–¹æ³•
- å¯¼è‡´å³ä½¿å®ç°äº† `do_getattr_helper`ï¼Œåœ¨æŸäº›åœºæ™¯ä¸‹ä»ç„¶å¤±è´¥

**0.1.9 ç‰ˆæœ¬çš„ä¿®å¤**:
- åŒæ­¥äº† unionfs å’Œ overlayfs çš„åŠŸèƒ½
- ç¡®ä¿ä¸¤è€…ä½¿ç”¨ç›¸åŒçš„ä»£ç è·¯å¾„
- ç»Ÿä¸€äº† API è°ƒç”¨ï¼ˆéƒ½ä½¿ç”¨ `getattr_with_mapping`ï¼‰

## ğŸ”¬ éªŒè¯æ–¹æ³•

### æ–¹æ³• 1: æ£€æŸ¥ unionfs çš„å®ç°

```bash
# æ£€æŸ¥ 0.1.8 ç‰ˆæœ¬çš„ unionfs æ˜¯å¦è°ƒç”¨ do_getattr_helper
grep -rn "do_getattr_helper\|getattr_with_mapping" \
    ~/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/libfuse-fs-0.1.8/src/unionfs/ | \
    grep -v "mod.rs:" | head -20
```

### æ–¹æ³• 2: æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–è°ƒç”¨è·¯å¾„

```bash
# æ£€æŸ¥ 0.1.8 ç‰ˆæœ¬æ˜¯å¦æœ‰å…¶ä»–è·å– stat çš„æ–¹æ³•
grep -rn "getattr\|stat64" \
    ~/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/libfuse-fs-0.1.8/src/unionfs/mod.rs | \
    grep -i "copy\|up" | head -20
```

### æ–¹æ³• 3: æŸ¥çœ‹ PR #335

æŸ¥çœ‹ libfuse-fs çš„ GitHub ä»“åº“ï¼Œæ‰¾åˆ° PR #335ï¼Œçœ‹å…·ä½“ä¿®å¤äº†ä»€ä¹ˆã€‚

## âœ… å½“å‰ç»“è®º

**æœ€å¯èƒ½çš„åŸå› **: **libfuse-fs 0.1.8 ç‰ˆæœ¬çš„ unionfs å’Œ overlayfs å®ç°ä¸ä¸€è‡´**ï¼Œå¯¼è‡´åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œå³ä½¿å®ç°äº† `do_getattr_helper`ï¼Œcopy-up ä»ç„¶å¯èƒ½å¤±è´¥ã€‚

**0.1.9 ç‰ˆæœ¬ä¿®å¤äº†è¿™ä¸ªé—®é¢˜**:
- åŒæ­¥äº† unionfs å’Œ overlayfs çš„åŠŸèƒ½
- ç»Ÿä¸€äº† API è°ƒç”¨
- ç¡®ä¿ä¸¤è€…ä½¿ç”¨ç›¸åŒçš„ä»£ç è·¯å¾„

**ä¸ºä»€ä¹ˆå‡çº§å°±è§£å†³äº†**:
- ä¸ä»…ä»…æ˜¯ API å˜æ›´ï¼ˆ`do_getattr_helper` â†’ `getattr_with_mapping`ï¼‰
- æ›´é‡è¦çš„æ˜¯**ä¿®å¤äº† unionfs å’Œ overlayfs çš„ä¸ä¸€è‡´é—®é¢˜**
- 0.1.9 ç‰ˆæœ¬çš„å®ç°æ›´ä¸€è‡´ã€æ›´ç¨³å®š

## ğŸ¯ ä¸‹ä¸€æ­¥éªŒè¯

1. **æ£€æŸ¥ unionfs çš„å®ç°**ï¼Œçœ‹æ˜¯å¦è°ƒç”¨ `do_getattr_helper`
2. **æŸ¥çœ‹ PR #335**ï¼Œäº†è§£å…·ä½“ä¿®å¤äº†ä»€ä¹ˆ
3. **å¦‚æœå¯èƒ½ï¼Œæµ‹è¯• 0.1.8 ç‰ˆæœ¬**ï¼Œå¯ç”¨è¯¦ç»†æ—¥å¿—ï¼Œçœ‹å…·ä½“åœ¨å“ªä¸€æ­¥å¤±è´¥

